@model ChecklistViewModel
@{
    ViewData["Title"] = "Checklist";
}

<form asp-controller="Checklist" asp-action="AddNewItem" method="post" enctype="application/x-www-form-urlencoded">
    <label asp-for="ListItem.ListItem">Add an item </label>
    <input type="text" asp-for="ListItem.ListItem" />
    <button type="submit" class="btn btn-primary">Add</button>
</form>

@foreach (var listItem in Model.ChecklistItems)
{
    <form asp-controller="Checklist" asp-action="CheckItem" method="post" asp-route-checklistId="@listItem.ChecklistId">
        <div class="checkbox">
            <input type="hidden" asp-for="@listItem.ChecklistId" />
            <input type="checkbox" value="" asp-for="@listItem.Completed" onchange="this.form.submit()"/>
            <label asp-for="@listItem.ListItem">@listItem.ListItem</label>
       </div>
    </form>
}